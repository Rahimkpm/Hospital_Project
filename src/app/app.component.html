<!-- ================= MOBILE TOP NAVBAR ================= -->
<nav class="navbar navbar-dark custom-green d-md-none fixed-top">
  <div class="container-fluid">
    <button class="btn btn-dark" (click)="toggleSidebar()">
      <i class="fa fa-bars fa-lg"></i>
    </button>

    <span class="navbar-brand ms-2">
      <i class="fa fa-hospital me-1"></i> {{ HospitalName }}
    </span>
  </div>
</nav>

<div class="d-flex">

  <!-- ================= SIDEBAR ================= -->
  <nav class="sidebar bg-dark text-white"
       [class.show]="isSidebarOpen">

    <!-- Brand -->
    <div class="sidebar-header text-center py-3">
      <i class="fa-solid fa-hospital fa-2x mb-2"></i>
      <h6 class="mb-0">{{ HospitalName }}</h6>
    </div>

    <ul class="nav flex-column px-2">

      <li class="nav-item">
        <a class="nav-link text-white" routerLink="/admindb" (click)="closeSidebar()">
          <i class="fa fa-home me-2"></i> Home
        </a>
      </li>

      <li class="nav-item" *ngIf="auth.getRole() === 'Admin'">
        <a class="nav-link text-white" routerLink="/Doctors" (click)="closeSidebar()">
          <i class="fa fa-user-doctor me-2"></i> Doctors
        </a>
      </li>

      <li class="nav-item" *ngIf="auth.getRole() === 'Admin'">
        <a class="nav-link text-white" routerLink="/Hospitals" (click)="closeSidebar()">
          <i class="fa fa-hospital me-2"></i> Hospitals
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link text-white" routerLink="/NewAppointment" (click)="closeSidebar()">
          <i class="fa fa-calendar-check me-2"></i> New Appointment
        </a>
      </li>

      <li class="nav-item" *ngIf="auth.getRole() === 'Doctor'">
        <a class="nav-link text-white"
           [routerLink]="[
             '/appointments/hospital',
             auth.gethospitalId(),
             'doctor',
             auth.getDoctorId()
           ]"
           (click)="closeSidebar()">
          <i class="fa fa-list me-2"></i> All Appointments
        </a>
      </li>

      <li class="nav-item" *ngIf="auth.getRole() === 'Doctor'">
        <a class="nav-link text-white" routerLink="/doctordashboard" (click)="closeSidebar()">
          <i class="fa fa-chart-line me-2"></i> Doctor Dashboard
        </a>
      </li>

      <li class="nav-item" *ngIf="auth.getRole() === 'Doctor'">
        <a class="nav-link text-white" routerLink="/paidsubscription" (click)="closeSidebar()">
          <i class="fa fa-credit-card me-2"></i> Paid Subscription
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link text-white" routerLink="/userregister" (click)="closeSidebar()">
          <i class="fa fa-user-plus me-2"></i> User Registration
        </a>
      </li>

      <li class="nav-item" *ngIf="auth.getRole() === 'Admin'">
        <a class="nav-link text-white" routerLink="/admindb" (click)="closeSidebar()">
          <i class="fa fa-gauge me-2"></i> Admin Dashboard
        </a>
      </li>

      <hr class="text-secondary my-2">

      <li class="nav-item">
        <a class="nav-link text-white" routerLink="/login" (click)="closeSidebar()">
          <i class="fa fa-sign-in-alt me-2"></i> Login
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link text-danger"
           routerLink="/login"
           (click)="auth.logout(); closeSidebar()">
          <i class="fa fa-sign-out-alt me-2"></i> Logout
        </a>
      </li>

    </ul>
  </nav>

  <!-- ================= OVERLAY ================= -->
  <div class="sidebar-overlay"
       *ngIf="isSidebarOpen"
       (click)="closeSidebar()">
  </div>

  <!-- ================= MAIN CONTENT ================= -->
  <div class="main-content">
    <app-spinner></app-spinner>
    <router-outlet></router-outlet>
  </div>

</div>
