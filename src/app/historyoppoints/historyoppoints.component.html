<div class="container mt-4" *ngIf="appointment">
<div align="right" class="mb-3">
    <button type="button" class="btn btn-primary"  [routerLink]="['/appointments/hospital/{{hid}}/doctor/{{did}}']">
                  <i class="fa fa-times me-1"></i> Cancel
                </button>
</div>
  <!-- Patient Info -->
  <div class="card mb-3 shadow">
    <div class="card-header bg-primary text-white">
      <i class="fa fa-user me-2"></i> Patient Details
    </div>
    <div class="card-body">
      <p><strong>Name:</strong> {{ appointment.patient.name }}</p>
      <p><strong>Phone:</strong> {{ appointment.patient.phoneNumber }}</p>
      <p><strong>Address:</strong> {{ appointment.patient.address }}</p>
    </div>
  </div>

  <!-- Current Appointment -->
  <div class="card mb-3 shadow">
    <div class="card-header bg-success text-white">
      <i class="fa fa-calendar-check me-2"></i> Current Appointment
    </div>
    <div class="card-body">
      <p><strong>Date:</strong> {{ appointment.appointmentDate | date }}</p>
      <p><strong>Reason:</strong> {{ appointment.reason }}</p>
      <p><strong>Doctor:</strong> {{ appointment.doctor.name }}</p>
    </div>
  </div>

  <!-- Previous History -->
  <div class="card shadow">
    <div class="card-header bg-warning">
      <i class="fa fa-history me-2"></i> Previous Treatment History
    </div>

    <div class="card-body" *ngIf="history.length > 0;">
      <ul class="list-group">
        <li class="list-group-item" *ngFor="let h of history">
          <strong>Date:</strong> {{ h.appointmentDate | date }} <br>
          <strong>Reason:</strong> {{ h.reason }} <br>
          <strong>Doctor:</strong> {{ h.doctorName }} <br>
          <strong>Doctor Notes:</strong> {{ h.doctorNotes }}  <br>
          <strong>Patient Name:</strong> {{ appointment.patient.name }}

        </li>
      </ul>
    </div>

    <!-- <ng-template #noHistory>
      <div class="card-body text-muted">
        No previous treatment history found.
      </div>
    </ng-template> -->
  </div>

</div>
